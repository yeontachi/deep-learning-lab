# MNIST CNN Kernel_Size 변경 실험 보고서

## 실험 조건
데이터셋: MNIST (훈련 48,000, 검증 12,000, 테스트 1,000장 - 클래스당 100장 샘플링)
모델 구조:
    기본 CNN: Conv → ReLU → MaxPool → Conv → ReLU → MaxPool → FC1 → FC2
    계층형 CNN: Conv(kernel=3) → Conv(kernel=5) → Conv(kernel=7) → FC
Optimizer: Adam (lr=0.001)
Epochs: 10
Batch Size: 32
평가 지표: Train/Val/Test Loss 및 Accuracy

 ![Alt text](/test-result-kernel_size5/images/kernel-padding-op.png)
 
## 실험 목적
본 실험의 목적은 MNIST 숫자 이미지 분류 모델에서 **CNN의 커널 크기(kernel size)**와 **패딩(padding)**의 변화가 모델 성능(Train/Validation/Test Loss 및 Accuracy)에 미치는 영향을 분석하는 것이다.
또한, 다층 계층 구조에서 각 컨볼루션 층마다 다른 커널 크기를 사용하는 계층적 커널 구조가 성능 향상에 도움이 되는지 평가하였다.

## 실험 결과 요약

| Kernel Size | Conv Layers | Avg Train Loss | Avg Train Acc (%) | Avg Val Loss | Avg Val Acc (%) | Avg Test Loss | Avg Test Acc (%) |
| ----------- | ----------- | -------------- | ----------------- | ------------ | --------------- | ------------- | ---------------- |
| 3           | 2           | 0.0339         | 98.93             | 0.0476       | 98.74           | 0.0477        | 98.94            |
| 5           | 2           | 0.0301         | 99.06             | 0.0413       | 98.91           | 0.0432        | 98.82            |
| 7           | 2           | 0.0336         | 98.92             | 0.0480       | 98.76           | 0.0484        | 98.68            |
| 9           | 2           | 0.0294         | 99.06             | 0.0494       | 98.73           | 0.0525        | 98.78            |
| 3 → 5 → 7   | 3 (계층형)     | 0.0301         | 99.06             | 0.0473       | 98.86           | 0.0479        | 98.92            |

## 분석
1. **커널 크기 5가 가장 균형 잡힌 성능을 보였다.**
    - 높은 학습 정확도(99.06%)와 낮은 평균 손실(Train/Val/Test 모두)를 기록함
    - 커널 크기 3보다 약간 더 넓은 receptive field를 통해 적절한 국소적 특징을 추출한 것으로 해석됨.

2. **커널 크기 7과 9는 과도하게 넓은 필터로 인해 성능 저하 경향**
    - 특히 커널 9의 경우 학습 정확도는 높지만, 검증 및 테스트 손실이 증가 -> 일반화 성능 감소 가능성 시사.

3. **계층적 구조(3->5->7)는 고정 커널 구조와 비슷하거나 약간 더 나은 테스트 정확도를 보였다.**
    - 계층적으로 다양한 스케일의 특징을 추출함으로써 모델의 표현력이 향상되었을 가능성이 있다.
    - 특히 Test Accuracy가 98.92%로, kernel size 3이나 7보다 우수하다.

## 결론
단일 커널 구조에서는 **커널 크기 5가 가장 안정적인 성능**을 보인다. 

**계층형 구조**는 다양한 스케일의 특징을 학습함으로써 좋은 일반화 성능을 유도하였다.

향후 더 깊은 네트워크나 Residual 구조와 함께 계층형 커널 구조를 적용하면 더 높은 성능을 기대할 수 있다.